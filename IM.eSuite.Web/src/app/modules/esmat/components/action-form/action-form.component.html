<section class="content-header">
  <h1>{{"eAction.ActionForm.Title" | translate}}</h1>
</section>
<section class="content">
  <div class="row">
    <div class="col-xs-12">
      <div class="box box-primary">
        <form [formGroup]="actionForm" (ngSubmit)="onSubmit()">
          <div class="box-body">
            <accordion>
              <accordion-group [isOpen]="true">
                <div accordion-heading class="clearfix">
                  {{'eAction.ActionForm.General' | translate}}
                  <span class="pull-right">
                    <i class="fa fa-angle-down"></i>
                  </span>
                </div>
                <div class="row">                  
                  <div class="col-xs-12 col-sm-6">
                    <div class="form-group">
                      <label>{{"Organization.Levels.Plant" | translate}}: </label>
                      {{ observation.plant }}
                    </div>
                    <div class="form-group">
                      <label>{{"Organization.Levels.Department" | translate}}: </label>
                      {{ observation.department }}
                    </div>
                    <div class="form-group">
                      <label>{{"Organization.Levels.Workshop" | translate}}: </label>
                      {{ observation.workshop }}
                    </div> 
                    <div class="form-group">
                      <label>{{"Organization.Levels.Job" | translate}}: </label>
                      {{ observation.job }}
                    </div>
                    <div class="form-group">
                      <label>{{"Organization.Levels.Workstation" | translate}}: </label>
                      {{ observation.workstation }}
                    </div> 
                    <div class="form-group">
                      <label>{{"Organization.Levels.Task" | translate}}: </label>
                      {{ observation.task }}
                    </div>
                  </div>                
                  <div class="col-xs-12 col-sm-6">
                    <div class="form-group">
                      <label>{{"Common.Fields.Category" | translate}}: </label>
                      {{ observation.category }}
                    </div>                  
                    <div class="form-group">
                      <label>{{"Common.Fields.SubCategory" | translate}}: </label>
                      {{ observation.subCategory }}
                    </div>
                    <div class="form-group">
                      <label>{{"eSMAT.SmatReceiver.SubTitle" | translate}}: </label>
                      {{ observation.smateeFirstName }} {{ observation.smateeLastName }}
                    </div>
                  </div>
                </div>
              </accordion-group>
              <accordion-group [isOpen]="true">
                <div accordion-heading class="clearfix">
                  {{'eAction.ActionForm.Details' | translate}}
                  <span class="float-right pull-right">
                    <i class="fa fa-angle-down"></i>
                  </span>
                </div>
                <app-action-fields [actionForm]="actionForm" [plantId]="this.observation.schedule.plantId" [isEditMode]="isEditMode"></app-action-fields>
              </accordion-group>
            </accordion>
          </div>
          <div class="box-footer">
            <button type="button" class="btn btn-default" [routerLink]="['/e-smat']" [disabled]="isSaveInProgress">{{"Common.Buttons.Cancel" | translate}}</button>
            <button type="submit" class="btn btn-success pull-right" [disabled]="actionForm.invalid || isSaveInProgress" *ngIf="authorizationService.hasRole('eAction_Action_Write')">
              {{"Common.Buttons.Save" | translate}}
              <i class="fa fa-spinner fa-spin" *ngIf="isSaveInProgress"></i>
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</section>